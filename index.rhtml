<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<% require 'make_json' %>
<% require 'cgi' %>
<html>
	<head>
		<meta content='text/html;charset=UTF-8' http-equiv='content-type'>
		<title>Let me "goggle" that for you</title>
		<link href="goggle.css" rel="stylesheet" type="text/css">
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
		<script type="text/javascript" src="goggle.js"></script>

	</head>
	<body>
		<div class="main">
			<div class="logo">
				<span>let me</span>
				<img id="goggle_logo" src="logo_modified.gif" alt="google logo" >
				<span>that for you</span>
			</div>
			<div class="query">
			<%
			cgi = CGI.new
			if cgi['i'].empty? then
			%>
			<form action="" method="get">
				<div>
					<table>
						<tr>
							<td><label for="i">Incorrect:</label></td>
							<td><input type="text" name="i" id="i" size="55" ></td>
						</tr>
						<tr>
							<td><label for="c">Correct:</label></td>
							<td><input type="text" name="c" id="c" size="55" ></td>
						</tr>
					</table>
					<input type="submit" value="Google Search" name="btnG" >
					<input type="submit" value="I'm Feeling Lucky" name="btnI" >
				</div>
			</form>
			<%
			else
			%>
			<form action="http://www.google.com/search" method="get">
				<div>
					<input type="text" name="q" id="q" size="55" >
					<br >
					<input type="submit" value="Google Search" name="btnG" >
					<input type="submit" value="I'm Feeling Lucky" name="btnI" >
				</div>
			</form>
			<%
			end
			%>
			</div>
			<div class="infobox"></div>
		</div>
		<script type="text/javascript">
			//searchString = <%=  JSON.generate(makeDiff('abcdefg', 'abadafg')) %>;
			searchString = <%= JSON.generate(makeWords(makeDiff('abcdefg foo bar baz', 'abadafg foo baz bi'))) %>;
		</script>
	</body>
</html>
