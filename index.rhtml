<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<%
ENV['GEM_PATH'] = '/home/youngian/.gem/ruby/1.8:/usr/lib/ruby/gems/1.8'
require 'rubygems'
require 'json'
require 'make_json'
require 'cgi'
%>
<html>
	<head>
		<meta content='text/html;charset=UTF-8' http-equiv='content-type'>
		<title>Let me "goggle" that for you</title>
		<link href="goggle.css" rel="stylesheet" type="text/css">
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
		<script type="text/javascript" src="goggle.js"></script>

	</head>
	<body>
		<div class="main">
			<h1>Let me "goggle" that for you</h1>
			<div class="logo">
				<span>let me</span>
				<img id="goggle_logo" src="logo_modified.gif" alt="goggle" title="They do nothing!" >
				<span>that for you</span>
			</div>
			<div class="query">
			<img id="cursor" src="cursor.png" style="display: none;" >
<%
cgi = CGI.new
if cgi.has_key?('i') and cgi.has_key?('c') then
%>
			<script type="text/javascript">
				searchString = <%= JSON.generate(makeWords(makeDiff(cgi['i'], cgi['c']))) %>;
			</script>
			<form action="http://www.google.com/search" method="get">
				<div>
					<input type="text" name="q" id="q" size="55" >
					<br >
					<input type="submit" value="Google Search" name="btnG" id="btnG" <% if not cgi.has_key?('l') then print 'class="clickme"' end %>>
					<input type="submit" value="I'm Feeling Lucky" name="btnI" id="btnI" <% if cgi.has_key?('l') then print 'class="clickme"' end %>>
				</div>
			</form>
			</div>
			<div class="infobox"><div><span class="ie_align"></span><span class="text">Please enable Javascript to be mocked properly.</span></div></div>
<%
else
%>
			<form action="" method="get" id="setup_form">
				<div>
					<table>
						<tr>
							<td><label for="i">Incorrect:</label></td>
							<td><input type="text" name="i" id="i" size="55" ></td>
						</tr>
						<tr>
							<td><label for="c">Correct:</label></td>
							<td><input type="text" name="c" id="c" size="55" ></td>
						</tr>
					</table>
					<input type="submit" value="Google Search" name="btnG" id="btnG" >
					<input type="submit" value="I'm Feeling Lucky" name="btnI" id="btnI" >
				</div>
			</form>
			</div>
			<div class="infobox"><div><span class="ie_align"></span><span class="text">First enter it as it was spelled.<br>Then enter how it <strong>should</strong> have been spelled.</span></div></div>
<%
end
%>
			<div class="output"></div>

			<div class="ads">
				<h2 class="sponsored_by">Sponsored by</h2>
				<a class="first" href="http://www.amazon.com/gp/product/020530902X?ie=UTF8&tag=lemegothfoyo-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=020530902X"><img border="0" src="elements_of_style.jpg"></a><img src="http://www.assoc-amazon.com/e/ir?t=lemegothfoyo-20&l=as2&o=1&a=020530902X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
				<a href="http://www.amazon.com/gp/product/B000IU3E5A?ie=UTF8&tag=lemegothfoyo-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=B000IU3E5A"><img border="0" src="eats_shoots_and_leaves.jpg"></a><img src="http://www.assoc-amazon.com/e/ir?t=lemegothfoyo-20&l=as2&o=1&a=B000IU3E5A" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
				<a href="http://www.amazon.com/gp/product/0071422684?ie=UTF8&tag=lemegothfoyo-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0071422684"><img border="0" src="elephants_of_style.jpg"></a><img src="http://www.assoc-amazon.com/e/ir?t=lemegothfoyo-20&l=as2&o=1&a=0071422684" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />

				<iframe class="brand_logo" src="http://rcm.amazon.com/e/cm?t=lemegothfoyo-20&o=1&p=41&l=ur1&category=home&banner=0PXNA3R0DT5CZVZA7J02&f=ifr" width="88" height="31" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>

			</div>

			<div class="credits">
				<h2 class="about"><span>About</span></h2>
				<p>Created by <a href="http://blog.iangreenleaf.com">Ian Young</a>. Inspired by slogging through a few too many terrible forum posts.</p>
				<p>You can contact me at ian[at]iangreenleaf.com.</p>
				<p class="disclaimer">Not associated with nor endorsed by Google&trade; in any way. The original Google logo is a trademark of Google, Inc.</p>
				<p class="sources">Associated with <a href="http://lmgtfy.com/">LMGTFY</a> only by poor imitation.</p>
			</div>
		</div>
	</body>
</html>
